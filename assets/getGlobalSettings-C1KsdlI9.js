import{g as c,O as i}from"./getPluginId-CxRP2hJM.js";import{a as f}from"./itemMetadataHelpers-C1JOvmed.js";import{p as u}from"./settingMetadataHelpers-B1IUCCwG.js";import{g as m,r as p}from"./metadataHelpers-DJltngHl.js";const l="name";async function I(e,n=!1){const t=await f();if(t.length!==1)throw"Selection exceeded max length, expected 1, got: "+t.length;await i.scene.items.updateItems(t,o=>{for(let s of o)s.metadata[c(l)]=e,n&&(s.name=e)})}function x(e,n=!1){const t=e.metadata[c(l)];return n&&(typeof t!="string"||t==="")?e.name:typeof t!="string"?"":t}async function N(){const e=await f();if(e.length!==1)throw"Selection exceeded max length, expected 1, got: "+e.length;return e[0].name}async function v(e,n,t){n===void 0&&(n=await i.scene.getMetadata()),t===void 0&&(t=await i.room.getMetadata());const o=m(t),s=m(n),d={...o,...s},a=u(d);if((s==null?void 0:s["show-bars"])===void 0&&(a.segments=p(o,"segments")),e===void 0)return{settings:a,isChanged:!1};let r=!1;for(const g of Object.keys(a))if(a[g]!==e[g]){r=!0;break}return{settings:a,isChanged:r}}export{l as N,x as a,N as b,v as g,I as w};
